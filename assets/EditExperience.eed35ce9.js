import{B as x,D as g,r as T,E as u,F as p,G as n,bu as U,bq as y,I as i,S as v,J as r,aB as D,H as B}from"./index.64cc4690.js";import{a as I}from"./QBtnDropdown.9c6bb289.js";import{Q}from"./QForm.1039961a.js";import{Q as _}from"./QPage.a7e31bdc.js";import{u as m}from"./use-fullscreen.82a685f6.js";import{u as j}from"./notify.hook.f33a760a.js";import{_ as w}from"./FormExperience.2a73bdd2.js";import"./QMenu.95c2d008.js";import"./selection.5d2e53af.js";import"./QItem.9b8fe882.js";const R=B("h1",{class:"text-h5"},"Editar experiencia",-1),J=x({__name:"EditExperience",setup(N){const{setExperience:f,updateExperience:c}=m(),{isExperience:S,experience:o,loading:l}=g(m()),s=U(),{error:E}=j(),e=T({});(async()=>{try{if(await f(String(s.params.idDoc)),e.value={...o.value},o.value.dateStart!==void 0&&(e.value.dateStart=o.value.dateStart.toDate().toISOString().split("T")[0]),o.value.dateEnd!==void 0&&(e.value.dateEnd=o.value.dateEnd.toDate().toISOString().split("T")[0]),!S.value)throw new Error(`Identificador no existente: ${s.params.idDoc}`)}catch(d){E(d.message)}})();const b=()=>{e.value={...o.value},o.value.dateStart!==void 0&&(e.value.dateStart=o.value.dateStart.toDate().toISOString().split("T")[0]),o.value.dateEnd!==void 0&&(e.value.dateEnd=o.value.dateEnd.toDate().toISOString().split("T")[0])};return(d,t)=>(u(),p(_,{padding:""},{default:n(()=>[R,e.value.title?(u(),p(Q,{key:0,autofocus:"",onReset:b,onSubmit:t[9]||(t[9]=y(a=>r(c)(String(d.$route.params.idDoc),{...r(o),...e.value}),["prevent"]))},{default:n(()=>[i(w,{code:e.value.code,"onUpdate:code":t[0]||(t[0]=a=>e.value.code=a),title:e.value.title,"onUpdate:title":t[1]||(t[1]=a=>e.value.title=a),jobTitle:e.value.jobTitle,"onUpdate:jobTitle":t[2]||(t[2]=a=>e.value.jobTitle=a),dateStart:e.value.dateStart,"onUpdate:dateStart":t[3]||(t[3]=a=>e.value.dateStart=a),dateEnd:e.value.dateEnd,"onUpdate:dateEnd":t[4]||(t[4]=a=>e.value.dateEnd=a),place:e.value.place,"onUpdate:place":t[5]||(t[5]=a=>e.value.place=a),is_certificado_profesionalidad:e.value.is_certificado_profesionalidad,"onUpdate:is_certificado_profesionalidad":t[6]||(t[6]=a=>e.value.is_certificado_profesionalidad=a),province:e.value.province,"onUpdate:province":t[7]||(t[7]=a=>e.value.province=a),comments:e.value.comments,"onUpdate:comments":t[8]||(t[8]=a=>e.value.comments=a)},null,8,["code","title","jobTitle","dateStart","dateEnd","place","is_certificado_profesionalidad","province","comments"]),i(I,{push:"",class:"q-mt-xl"},{default:n(()=>[i(v,{icon:"edit",loading:r(l),disable:r(l),label:"Modificar experiencia",type:"submit",color:"primary"},null,8,["loading","disable"]),i(v,{icon:"restart_alt",label:"Reiniciar",type:"reset",color:"secondary"})]),_:1})]),_:1})):D("",!0)]),_:1}))}});export{J as default};
